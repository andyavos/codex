<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Network Information API</title>
	<style>
		body {
			background: #f1f1f1;
			color: #333;
			font-family: sans-serif;
			font-size: 1rem;
			line-height: 1.4;
			padding: 2rem;
		}
	</style>
</head>
<body>

	<h1>Network Information API</h1>
	<h3>References</h3>
	<p>
		<a href="https://developer.mozilla.org/en-US/docs/Web/API/Network_Information_API">developer.mozilla.org/en-US/docs/Web/API/Network_Information_API</a><br />
		<a href="https://wicg.github.io/netinfo/">wicg.github.io/netinfo/</a>
	</p>

    <div id="network-info"></div>
    
    <script>
	(function() {
		if (navigator.connection) {
	  		navigator.connection.addEventListener('change', logNetworkInfo);

	  		function logNetworkInfo() {
	    		const networkInfo = document.getElementById('network-info');
			    networkInfo.innerHTML += `Type: ${navigator.connection.type}<br>`;
			    networkInfo.innerHTML += `Downlink: ${navigator.connection.downlink} Mb/s<br>`;
			    networkInfo.innerHTML += `RTT: ${navigator.connection.rtt} ms<br>`;
			    networkInfo.innerHTML += `DownlinkMax: ${navigator.connection.downlinkMax} Mb/s<br>`;
			    networkInfo.innerHTML += `EffectiveType: ${navigator.connection.effectiveType}<br>`;
			    networkInfo.innerHTML += `SaveData: ${navigator.connection.saveData}<br><br>`;
	  		}

	  		logNetworkInfo();
		} else {
	  		const networkInfo = document.getElementById('network-info');
	  		networkInfo.innerHTML = 'navigator.connection API not supported';
		}
	})();

	(function() {
	  	if (navigator.connection) {
	    	navigator.connection.addEventListener('change', logNetworkInfo);

	    	function logNetworkInfo() {
	      		log(`Type: ${navigator.connection.type}`);
	      		log(`Downlink: ${navigator.connection.downlink} Mb/s`);
	      		log(`RTT: ${navigator.connection.rtt} ms`);
	      		log(`DownlinkMax: ${navigator.connection.downlinkMax} Mb/s`);
	      		log(`EffectiveType: ${navigator.connection.effectiveType}`);
	      		log(`SaveData: ${navigator.connection.saveData}`);
	      		log('');
	    	}

	    	logNetworkInfo();
	  	} else {
	    	log('navigator.connection API not supported');
	  	}

	  	function log(message) {
	    	console.log(message);
	  	}
	})();
</script>

</body>
</html>